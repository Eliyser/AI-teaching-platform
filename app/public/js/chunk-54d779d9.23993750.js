(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54d779d9"],{"0fe4":function(t,e,n){t.exports={learning:"learning_learning_1tUFL",main:"learning_main_1nNSd"}},"333b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:t.$style.learning},[n("learnHeader",{attrs:{titleName:t.project_name,stepData:t.steps},on:{sendSelectId:t.upDatedId}}),n("div",{class:t.$style.main},[n("navBar"),n("Content",{attrs:{jupyterUrl:t.jupyterUrl,changeId:t.selectStepId,"content-data":t.contentData},on:{sendSelectId:t.upDatedId}})],1)],1)},s=[],a=(n("34a3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{class:t.$style.learningHeader},[n("div",{class:t.$style.left},[n("Icon",{class:t.$style.iconIvu,attrs:{color:"#fff",type:"md-home",size:"42"},on:{click:t.goToSelectProject}}),n("p",{class:t.$style.titleName},[t._v("-"+t._s(t.titleName)+"-")])],1),n("div",{class:t.$style.right,on:{click:t.dropDown}},[n("Icon",{attrs:{color:"#fff",type:"ios-list",size:"38"}}),n("p",{class:t.$style.step},[t._v("步骤目录")]),1==this.show?n("div",{class:t.$style.dropDown},[n("ul",t._l(this.stepData,function(e,r){return n("li",{key:r,on:{click:function(e){return t.selectId(r)}}},[t._v(t._s(e))])}),0)]):t._e()],1)])])}),i=[],o={props:{titleName:{type:String,default:"项目名称"},stepData:{type:Array,default:function(){return[]}}},data:function(){return{headerClass:"",show:!1}},methods:{goToSelectProject:function(){this.$store.isLearningPage=!1,this.$router.push("/course/".concat(this.$route.params.course_id))},selectId:function(t){this.$emit("sendSelectId",t+1)},dropDown:function(){0==this.show?this.show=!0:this.show=!1}}},c=o,l=n("888a"),u=n("6691");function d(t){this["$style"]=l["default"].locals||l["default"]}var f=Object(u["a"])(c,a,i,!1,d,null,null),p=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.navBar},[n("div",{class:[t.$style.navItem,t.itemCname],attrs:{name:t.itemCname},on:{click:t.navClick}},[t._v("\n        步骤\n    ")]),n("div",{class:[t.$style.navItem,t.itemCname],attrs:{name:t.itemCname},on:{click:t.navClick}},[t._v("\n        任务演示\n    ")]),n("Icon",{class:t.$style.iconIvu,attrs:{id:"more",size:"28",type:"md-menu"}})],1)},m=[],v=(n("f763"),n("873c")),_={data:function(){return{itemCname:"item"}},methods:{navClick:function(t){if("more"!==t.target.id){var e=Object(v["a"])(document.getElementsByClassName("item"));e.forEach(function(t){t.style.backgroundColor="#fff",t.style.color="#000"}),t.target.style.backgroundColor="#002060",t.target.style.color="#fff"}}}},g=_,y=n("f3d1");function I(t){this["$style"]=y["default"].locals||y["default"]}var S=Object(u["a"])(g,h,m,!1,I,null,null),$=S.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:[t.$style.content,t.cname]},[n("div",{class:t.$style.main,attrs:{id:"mainbox"}},[n("Split",{model:{value:t.split,callback:function(e){t.split=e},expression:"split"}},[n("div",{class:t.$style.splitLeft,attrs:{slot:"left"},slot:"left"},[n("div",{class:t.$style.header},[n("Icon",{class:t.$style.iconIvu,attrs:{type:"ios-arrow-back"},on:{click:t.back}}),t._v("\n          - "+t._s(t.contentData.stepName)+" -\n          "),n("Icon",{class:t.$style.iconIvu,attrs:{type:"ios-arrow-forward"},on:{click:t.forward}})],1),n("mavon-editor",{class:t.$style.md,attrs:{toolbarsFlag:!1,subfield:!1,defaultOpen:"preview"},model:{value:t.editorContent,callback:function(e){t.editorContent=e},expression:"editorContent"}})],1),n("div",{class:t.$style.splitRight,attrs:{slot:"right"},slot:"right"},[n("iframe",{class:t.$style.iframe,attrs:{width:"100%",frameborder:"0",height:"100%",src:t.jupyterUrl}})])])],1),n("div",{class:t.$style.footer})])},N=[],L=(n("d4d5"),{props:{cname:{type:String,default:""},contentData:{type:Object,default:function(){}},jupyterUrl:{type:String},changeId:{type:Number}},data:function(){return{split:.35,selectStepId:1,API_HOST:"",changeWidthForLeft:40,changeWidthForRight:58,curWidthLeft:40,curWidthRight:57,editorContent:""}},methods:{back:function(){this.selectStepId=this.selectStepId-1,this.selectStepId<1&&(this.selectStepId=1)},forward:function(){this.selectStepId=this.selectStepId+1,this.selectStepId>this.contentData.step_amount&&(this.selectStepId=this.contentData.step_amount)}},watch:{selectStepId:function(t){this.$emit("sendSelectId",t)},split:function(t){t<=.1&&(this.split=.1)},changeId:function(t){this.selectStepId=t},contentData:{handler:function(t){this.editorContent=t.mdData,document.querySelectorAll("img").forEach(function(t){"h-left"!==t.parentNode.classList[0]&&(t.parentNode.style.textAlign="center")})},deep:!0}}}),j=L,C=n("a613");function w(t){this["$style"]=C["default"].locals||C["default"]}var k=Object(u["a"])(j,b,N,!1,w,null,null),D=k.exports,T=n("3ae7"),x=n("eeb9");function A(t){return Object(x["a"])({url:"/api/v1/record/time",method:"post",withCredentials:!0,data:{time:t}})}function M(t,e,n){return Object(x["a"])({url:"/api/v1/record/progress",method:"post",withCredentials:!0,data:{course_id:t,project_id:e,current_step:n}})}function E(){return Object(x["a"])({url:"/api/v1/jupyterUrl",method:"get",withCredentials:!0})}var O={name:"Learning",mounted:function(){var t=this;document.querySelector(".top-c").style.display="none",document.querySelector(".mask").style.display="none",document.querySelector(".aside").style.display="none",document.querySelector(".main-content").style.padding="0",document.querySelector(".view-c").style.padding="0",this.$route.params.course_id&&this.$route.query.project_id&&(this.$store.state.course.course_id=this.$route.params.course_id,this.$store.state.course.project_id=this.$route.query.project_id),0!==this.$store.state.course.project_id&&0!==this.$store.state.course.course_id&&(this.$route.params.course_id=this.$store.state.course.course_id,this.$route.query.project_id=this.$store.state.course.project_id),Object(T["a"])(this.$route.params.course_id,this.$route.query.project_id).then(function(e){200===e.status?(t.steps=e.msg.data.steps,t.project_name=e.msg.data.project_name,t.stepName=e.msg.data.steps[0],t.allStepsName=e.msg.data.steps,t.stepMd=e.msg.steps_md_array[0],t.allStepsMd=e.msg.steps_md_array,t.contentData={course_id:e.msg.data.course_id,mdData:t.stepMd,step_amount:e.msg.data.step_amount,stepName:t.stepName}):t.$router.replace("/course")}),E().then(function(e){t.jupyterUrl=e.msg.url})},data:function(){return{steps:[],project_name:"",stepName:"",jupyterUrl:"",allStepsName:[],selectStepId:1,stepMd:"",allStepsMd:[],contentData:{},timer:null,second:"",min:"",time:0,idProject:"",idCourse:""}},methods:{upDatedId:function(t){this.selectStepId=t},setTimer:function(){var t=this;null==this.timer&&(this.timer=setInterval(function(){t.second++},1e3))}},watch:{selectStepId:function(t){this.contentData.stepName=this.allStepsName[t-1],this.contentData.mdData=this.allStepsMd[t-1]}},components:{learnHeader:p,navBar:$,Content:D},created:function(){this.idProject=this.$store.state.course.project_id,this.idCourse=this.$store.state.course.course_id,clearInterval(this.timer),this.timer=null,this.setTimer()},beforeDestroy:function(){this.min=(this.second/60).toFixed(1),this.time=parseInt(this.min),localStorage.setItem("time",this.time),A(this.time).then(function(t){200==t.status?console.log("记录学习时间成功"):console.log("记录学习时间失败")}).catch(function(t){console.log(t)}),M(parseInt(this.idCourse),parseInt(this.idProject),parseInt(this.selectStepId)).then(function(t){200!=t.status&&console.log("记录学习进度失败")}).catch(function(t){console.log(t)}),clearInterval(this.timer),this.timer=null}},P=O,F=n("a3db");function q(t){this["$style"]=F["default"].locals||F["default"]}var R=Object(u["a"])(P,r,s,!1,q,null,null);e["default"]=R.exports},"34a3":function(t,e,n){"use strict";var r=n("a013"),s=n("db4b"),a=n("b146"),i=n("c481"),o=n("b0f4"),c=n("35dd"),l=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};n("629c")("replace",2,function(t,e,n,m){return[function(r,s){var a=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,a,s):n.call(String(a),r,s)},function(t,e){var s=m(n,t,this,e);if(s.done)return s.value;var d=r(t),f=String(this),p="function"===typeof e;p||(e=String(e));var _=d.global;if(_){var g=d.unicode;d.lastIndex=0}var y=[];while(1){var I=c(d,f);if(null===I)break;if(y.push(I),!_)break;var S=String(I[0]);""===S&&(d.lastIndex=o(f,a(d.lastIndex),g))}for(var $="",b=0,N=0;N<y.length;N++){I=y[N];for(var L=String(I[0]),j=l(u(i(I.index),f.length),0),C=[],w=1;w<I.length;w++)C.push(h(I[w]));var k=I.groups;if(p){var D=[L].concat(C,j,f);void 0!==k&&D.push(k);var T=String(e.apply(void 0,D))}else T=v(L,f,j,C,k,e);j>=b&&($+=f.slice(b,j)+T,b=j+L.length)}return $+f.slice(b)}];function v(t,e,r,a,i,o){var c=r+t.length,l=a.length,u=p;return void 0!==i&&(i=s(i),u=f),n.call(o,u,function(n,s){var o;switch(s.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":o=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return n;if(u>l){var f=d(u/10);return 0===f?n:f<=l?void 0===a[f-1]?s.charAt(1):a[f-1]+s.charAt(1):n}o=a[u-1]}return void 0===o?"":o})}})},"3ae7":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("eeb9");function s(t,e){return Object(r["a"])({url:"/api/v1/project?course_id="+t+"&project_id="+e,method:"get",withCredentials:!0,data:{course_id:t,project_id:e}})}},"539d":function(t,e,n){var r=n("b2f5"),s=n("f01a"),a=n("b6f1"),i=n("c9ea4"),o="["+i+"]",c="​",l=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),d=function(t,e,n){var s={},o=a(function(){return!!i[t]()||c[t]()!=c}),l=s[t]=o?e(f):i[t];n&&(s[n]=l),r(r.P+r.F*o,"String",s)},f=d.trim=function(t,e){return t=String(s(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(u,"")),t};t.exports=d},6353:function(t,e,n){t.exports={learningHeader:"header_learningHeader_32bZW",left:"header_left_1bFzS",iconIvu:"header_iconIvu_2m1NN",titleName:"header_titleName_Pgm7v",right:"header_right_2MCCH",step:"header_step_3AbAe",dropDown:"header_dropDown_1lLAK"}},"7fa0":function(t,e,n){t.exports={navBar:"navBar_navBar_1EN8j",navItem:"navBar_navItem_1Hl96",iconIvu:"navBar_iconIvu_3Hrsa"}},8836:function(t,e,n){t.exports={content:"content_content_pA5wq",main:"content_main_3wxTq",splitLeft:"content_splitLeft_3PlnX",header:"content_header_2WPqa",iconIvu:"content_iconIvu_LManT",md:"content_md_2t-NL",drag:"content_drag_18e_i",splitRight:"content_splitRight_2Z7gg",iframe:"content_iframe_RG3zP",footer:"content_footer_1_Wki",btn:"content_btn_3XVVL"}},"888a":function(t,e,n){"use strict";var r=n("6353"),s=n.n(r);e["default"]=s.a},a3db:function(t,e,n){"use strict";var r=n("0fe4"),s=n.n(r);e["default"]=s.a},a613:function(t,e,n){"use strict";var r=n("8836"),s=n.n(r);e["default"]=s.a},c9ea4:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},d4d5:function(t,e,n){"use strict";var r=n("3754"),s=n("03b3"),a=n("94ac"),i=n("44de"),o=n("5325"),c=n("b6f1"),l=n("a891").f,u=n("acb9").f,d=n("ddf7").f,f=n("539d").trim,p="Number",h=r[p],m=h,v=h.prototype,_=a(n("a7b8")(v))==p,g="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var n,r,s,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+e}for(var i,c=e.slice(2),l=0,u=c.length;l<u;l++)if(i=c.charCodeAt(l),i<48||i>s)return NaN;return parseInt(c,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(_?c(function(){v.valueOf.call(n)}):a(n)!=p)?i(new m(y(e)),n,h):y(e)};for(var I,S=n("dad2")?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),$=0;S.length>$;$++)s(m,I=S[$])&&!s(h,I)&&d(h,I,u(m,I));h.prototype=v,v.constructor=h,n("e5ef")(r,p,h)}},f3d1:function(t,e,n){"use strict";var r=n("7fa0"),s=n.n(r);e["default"]=s.a},f763:function(t,e,n){for(var r=n("dac5"),s=n("cfc7"),a=n("e5ef"),i=n("3754"),o=n("743d"),c=n("14fc"),l=n("8b37"),u=l("iterator"),d=l("toStringTag"),f=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=s(p),m=0;m<h.length;m++){var v,_=h[m],g=p[_],y=i[_],I=y&&y.prototype;if(I&&(I[u]||o(I,u,f),I[d]||o(I,d,_),c[_]=f,g))for(v in r)I[v]||a(I,v,r[v],!0)}}}]);