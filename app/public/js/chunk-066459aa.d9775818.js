(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-066459aa"],{"145b":function(t,e,s){t.exports={panel:"Home_panel_2m63X",psInfo:"Home_psInfo_3Ckog",left:"Home_left_2stRn",userInfo:"Home_userInfo_2JMLb",right:"Home_right_UUKNs",record:"Home_record_1TTww",top:"Home_top_2DqWp",chart:"Home_chart_AL7D1",vch__wrapper:"Home_vch__wrapper_3xYiX",hisCourse:"Home_hisCourse_11wLP",tips:"Home_tips_kVDi-"}},"56af":function(t,e,s){t.exports={panel:"panel_panel_uo3ad"}},bb51:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Panel",{class:t.$style.panel},[n("section",{class:t.$style.psInfo},[n("div",{class:t.$style.left},[n("img",{attrs:{src:s("9ba5"),alt:""}}),n("div",{class:t.$style.userInfo},[n("p",[t._v(t._s(this.stuMsg.stuName)+" "),n("span",[t._v("L1")])]),n("p",[t._v(t._s(this.stuMsg.stuAddtime)+" 加入")])])]),n("div",{class:t.$style.right},[n("Icon",{attrs:{type:"md-home",size:"16",color:"#009FDf"}}),n("p",[t._v(t._s(this.stuMsg.stuSchool))])],1)])]),n("Panel",{class:t.$style.panel},[n("section",{class:t.$style.record},[n("div",{class:t.$style.top},[n("p",[t._v("我的学习记录")]),n("ul",[n("li",[t._v("当前连续学习"),n("span",[t._v(t._s(this.record.serialStu))]),t._v("天")]),n("li",[t._v("最大连续学习 "),n("span",[t._v(t._s(this.record.bSerialStu))]),t._v("天")]),n("li",[t._v("总学习天数 "),n("span",[t._v(t._s(this.studyTime))]),t._v("天")])])]),n("div",{class:t.$style.chart},[n("Calendar-heatmap",{attrs:{values:this.record.dateRecord,"end-date":this.date,"range-color":["ebedf0","dae2ef","#c0ddf9","#73b3f3","#3886e1","#17459e"],max:60,"tooltip-unit":"min"}})],1)])]),n("Panel",{class:t.$style.panel},[n("section",{class:t.$style.course},[n("Tabs",[n("TabPane",{attrs:{label:"历史课程"}},[t._l(this.hisCourses,function(e,s){return n("div",{key:s,staticStyle:{display:"flex","flex-direction":"column"}},[n("div",{class:t.$style.hisCourse,on:{click:function(s){return t.recordIndex(e.course_id)}}},[n("div",{class:t.$style.left},[n("img",{attrs:{src:t.API_HOST+e.courseImg,alt:""}}),n("ul",[n("li",[t._v(t._s(e.courseName))]),n("li",[t._v("上次学到："+t._s(e.projectName)+"（"+t._s(e.progress)+"）")]),n("li",[t._v("0篇实验报告0个提问")])])]),n("div",{class:t.$style.right},[n("Dropdown",[n("a",{attrs:{href:"javascript:void(0)"}},[t._v("\n                                        更多\n                                        "),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",[n("p",{on:{click:t.async}},[t._v("删除记录")])])],1)],1),n("Button",{staticStyle:{"font-size":"14px",padding:"5px 40px 6px"},attrs:{type:"primary",shape:"circle"},on:{click:function(s){return t.goonStudy(e.project_id,e.course_id)}}},[t._v("继续实验")])],1)]),n("div",{staticStyle:{height:"1px",border:"0.5px solid #eee",position:"relative",top:"-10px"}})])}),""==this.hisCourses?n("div",{class:t.$style.tips},[n("p",{class:t.$style.tipLetter},[t._v("赶紧添加课程学习吧！"),n("Icon",{attrs:{type:"md-bulb",color:"yellow",size:"35"}})],1)]):t._e()],2)],1)],1)])],1)},o=[],a=s("f8f0"),i=s("96e6"),r=s("eeb9");function c(t){return Object(r["a"])({url:"/api/v1/userMsg",method:"get",withCredentials:!0,data:t})}function l(){return Object(r["a"])({url:"/api/v1/record/time",method:"get",withCredentials:!0})}function u(){return Object(r["a"])({url:"/api/v1/record/progress",method:"get",withCredentials:!0})}function d(t){return Object(r["a"])({url:"/api/v1/record?course_id="+t,method:"delete",withCredentials:!0})}var p={name:"Home",data:function(){return{longdate:"",courseId:"",date:"",studyTime:"0",clickIndex:" ",stuMsg:"",record:{dateRecord:[{date:"",count:""}]},hisCourses:"",API_HOST:""}},components:{Panel:a["a"],CalendarHeatmap:i["CalendarHeatmap"]},methods:{async:function(){var t=this;this.$Modal.confirm({title:"温馨提示",content:"<p>是否确认删除本学习课程</p>",loading:!0,onOk:function(){setTimeout(function(){t.$Modal.remove(),t.delete()},2e3)}})},totalStudy:function(){return this.studyTime=this.record.dateRecord.length,this.studyTime},recordIndex:function(t){this.clickIndex=t-1},getdate:function(t){return this.date=this.longdate.getFullYear()+"-"+(this.longdate.getMonth()+1)+"-"+this.longdate.getDate(),this.date},info:function(t){this.$Message.info(t)},delete:function(){var t=this;this.courseId=this.clickIndex+1,d(this.courseId).then(function(e){200==e.status?(t.hisCourses.slice(t.clickIndex,1),t.info(e.msg)):t.info(e.msg)}).catch(function(t){console.log(t)})},goonStudy:function(t,e){this.$router.push({path:"/course/".concat(e,"/learning?project_id=").concat(t)})}},created:function(){var t=this;c().then(function(e){200==e.status?t.stuMsg=e.msg.data[0]:t.info(e.msg.msg)}).catch(function(t){console.log(t)}),l().then(function(e){200==e.status?(t.record=e.msg,t.dateRecordArr=t.record.dateRecord,t.totalStudy()):t.info(e.msg.msg)}).catch(function(t){console.log(t)}),u().then(function(e){200==e.status?t.hisCourses=e.msg.data:t.info(e.msg.msg)}).catch(function(t){console.log(t)})},beforeMount:function(){this.longdate=new Date,this.getdate(this.longdate)}},f=p,h=s("bc56"),_=s("6691");function m(t){this["$style"]=h["default"].locals||h["default"]}var v=Object(_["a"])(f,n,o,!1,m,null,null);e["default"]=v.exports},bc56:function(t,e,s){"use strict";var n=s("145b"),o=s.n(n);e["default"]=o.a},c878:function(t,e,s){"use strict";var n=s("56af"),o=s.n(n);e["default"]=o.a},f8f0:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{class:[t.panelClass,t.cname]},[t._t("default")],2)},o=[],a={props:{cname:{type:String,default:""}},data:function(){return{panelClass:"panel"}}},i=a,r=s("c878"),c=s("6691");function l(t){this["$style"]=r["default"].locals||r["default"]}var u=Object(c["a"])(i,n,o,!1,l,null,null);e["a"]=u.exports}}]);