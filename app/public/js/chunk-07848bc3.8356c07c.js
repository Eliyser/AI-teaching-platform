(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07848bc3"],{"0fe4":function(t,e,n){t.exports={learning:"learning_learning_1tUFL",main:"learning_main_1nNSd"}},"333b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:t.$style.learning},[n("learnHeader",{attrs:{titleName:t.project_name,stepData:t.steps},on:{sendSelectId:t.upDatedId}}),n("div",{class:t.$style.main},[n("navBar"),n("Content",{attrs:{"content-data":t.contentData},on:{sendSelectId:t.upDatedId}})],1)],1)},i=[],s=(n("34a3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{class:t.$style.learningHeader},[n("div",{class:t.$style.left},[n("Icon",{class:t.$style.iconIvu,attrs:{color:"#fff",type:"md-home",size:"42"},on:{click:t.goToSelectProject}}),n("p",{class:t.$style.titleName},[t._v("-"+t._s(t.titleName)+"-")])],1),n("div",{class:t.$style.right,on:{click:t.dropDown}},[n("Icon",{attrs:{color:"#fff",type:"ios-list",size:"38"}}),n("p",{class:t.$style.step},[t._v("步骤目录")]),1==this.show?n("div",{class:t.$style.dropDown},[n("ul",t._l(this.stepData,function(e,a){return n("li",{key:a,on:{click:function(e){return t.selectId(a)}}},[t._v(t._s(e))])}),0)]):t._e()],1)])])}),o=[],r={props:{titleName:{type:String,default:"项目名称"},stepData:{type:Array,default:function(){return[]}}},data:function(){return{headerClass:"",show:!1}},methods:{goToSelectProject:function(){this.$router.push("/course/".concat(this.$route.params.course_id))},selectId:function(t){this.$emit("sendSelectId",t+1)},dropDown:function(){0==this.show?this.show=!0:this.show=!1}}},c=r,l=n("888a"),d=n("6691");function u(t){this["$style"]=l["default"].locals||l["default"]}var h=Object(d["a"])(c,s,o,!1,u,null,null),m=h.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.navBar},[n("div",{class:[t.$style.navItem,t.itemCname],attrs:{name:t.itemCname},on:{click:t.navClick}},[t._v("\n        步骤\n    ")]),n("div",{class:[t.$style.navItem,t.itemCname],attrs:{name:t.itemCname},on:{click:t.navClick}},[t._v("\n        任务演示\n    ")]),n("Icon",{class:t.$style.iconIvu,attrs:{id:"more",size:"28",type:"md-menu"}})],1)},p=[],g=(n("f763"),n("873c")),v={data:function(){return{itemCname:"item"}},methods:{navClick:function(t){if("more"!==t.target.id){var e=Object(g["a"])(document.getElementsByClassName("item"));e.forEach(function(t){t.style.backgroundColor="#fff",t.style.color="#000"}),t.target.style.backgroundColor="#002060",t.target.style.color="#fff"}}}},_=v,y=n("f3d1");function S(t){this["$style"]=y["default"].locals||y["default"]}var I=Object(d["a"])(_,f,p,!1,S,null,null),b=I.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{class:[t.$style.content,t.cname]},[n("div",{class:t.$style.main,attrs:{id:"mainbox"}},[n("div",{class:t.$style.leftbox,attrs:{id:"leftbox"}},[n("div",{class:t.$style.header},[n("Icon",{class:t.$style.iconIvu,attrs:{type:"ios-arrow-back"},on:{click:t.back}}),t._v("\n        - "+t._s(t.contentData.stepName)+" -\n        "),n("Icon",{class:t.$style.iconIvu,attrs:{type:"ios-arrow-forward"},on:{click:t.forward}})],1),n("div",{class:t.$style.md,attrs:{id:"htmlData"}})]),n("div",{class:t.$style.drag,on:{mousedown:t.move}}),n("div",{class:t.$style.rightbox,attrs:{id:"rightbox"}},[n("iframe",{attrs:{width:"100%",height:"100%",src:"http://47.96.95.75:8888/tree?"}})])]),n("div",{class:t.$style.footer},[n("Button",{class:t.$style.btn,attrs:{type:"primary"}},[t._v("任务检测")]),n("Button",{class:t.$style.btn,attrs:{type:"primary"}},[t._v("下一步")])],1)])},L=[],w={props:{cname:{type:String,default:""},contentData:{type:Object,default:function(){}}},data:function(){return{selectStepId:1,API_HOST:"",changeWidthForLeft:40,changeWidthForRight:58,curWidthLeft:40,curWidthRight:57}},methods:{move:function(t){var e=this,n=t.clientX;document.onmousemove=function(t){var a=t.clientX-n;e.changeWidthForLeft=a/document.getElementById("mainbox").offsetWidth*100+e.curWidthLeft,e.changeWidthForRight=e.curWidthRight-a/document.getElementById("mainbox").offsetWidth*100,e.changeWidthForLeft<10&&(e.changeWidthForLeft=10),e.changeWidthForLeft>96&&(e.changeWidthForLeft=96),e.changeWidthForRight<1&&(e.changeWidthForRight=1),e.changeWidthForRight>87&&(e.changeWidthForRight=87),document.getElementById("leftbox").style.width="".concat(e.changeWidthForLeft,"%"),document.getElementById("rightbox").style.width="".concat(e.changeWidthForRight,"%")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null,e.curWidthLeft=e.changeWidthForLeft,e.curWidthRight=e.changeWidthForRight}},back:function(){this.selectStepId=this.selectStepId-1,this.selectStepId<1&&(this.selectStepId=1)},forward:function(){this.selectStepId=this.selectStepId+1,this.selectStepId>this.contentData.step_amount&&(this.selectStepId=this.contentData.step_amount)}},watch:{selectStepId:function(t){this.$emit("sendSelectId",t)},contentData:{handler:function(t){document.getElementById("htmlData").innerHTML=t.htmlData,document.querySelectorAll("img").forEach(function(t){t.parentNode.style.textAlign="center"})},deep:!0}}},D=w,x=n("a613");function C(t){this["$style"]=x["default"].locals||x["default"]}var k=Object(d["a"])(D,$,L,!1,C,null,null),W=k.exports,N=n("eeb9");function j(t,e){return Object(N["a"])({url:"/api/v1/course/project",method:"post",withCredentials:!0,data:{course_id:t,project_id:e}})}function T(t){return Object(N["a"])({url:"/api/v1/record/time",method:"post",withCredentials:!0,data:{time:t}})}function F(t,e,n){return Object(N["a"])({url:"/api/v1/record/progress",method:"post",withCredentials:!0,data:{course_id:t,project_id:e,current_step:n}})}var H={name:"Learning",mounted:function(){var t=this;document.querySelector(".top-c").style.display="none",document.querySelector(".mask").style.display="none",document.querySelector(".aside").style.display="none",document.querySelector(".main-content").style.padding="0",document.querySelector(".view-c").style.padding="0",j(this.$route.params.course_id,this.$route.query.project_id).then(function(e){200===e.status?(t.steps=e.msg.data.steps,t.project_name=e.msg.data.project_name,t.stepName=e.msg.data.steps[0],t.allStepsName=e.msg.data.steps,t.stepHtml=e.msg.data.steps_html[0],t.allStepsHtml=e.msg.data.steps_html,t.contentData={course_id:e.msg.data.course_id,mdData:e.msg.data.document_md,step_amount:e.msg.data.step_amount,htmlData:t.stepHtml,stepName:t.stepName}):t.$router.replace("/course")})},data:function(){return{steps:[],project_name:"",stepName:"",allStepsName:[],selectStepId:1,stepHtml:"",allStepsHtml:[],contentData:{},timer:null,second:"",min:"",time:0,idProject:"",idCourse:""}},methods:{upDatedId:function(t){this.selectStepId=t},setTimer:function(){var t=this;null==this.timer&&(this.timer=setInterval(function(){t.second++},1e3))}},watch:{selectStepId:function(t){this.contentData.stepName=this.allStepsName[t-1],this.contentData.htmlData=this.allStepsHtml[t-1]}},components:{learnHeader:m,navBar:b,Content:W},created:function(){this.idProject=parseInt(this.$route.query.project_id),this.idCourse=parseInt(this.$route.query.project_id),clearInterval(this.timer),this.timer=null,this.setTimer()},beforeDestroy:function(){this.min=(this.second/60+1).toFixed(1),this.time=parseInt(this.min),localStorage.setItem("time",this.time),console.log(this.time),T(this.time).then(function(t){200!=t.msg&&console.log(t)}).catch(function(t){console.log(t)}),F(this.idCourse,this.idProject,this.selectStepId).then(function(t){200!=t.msg&&console.log(t)}).catch(function(t){console.log(t)}),clearInterval(this.timer),this.timer=null}},B=H,M=n("a3db");function A(t){this["$style"]=M["default"].locals||M["default"]}var E=Object(d["a"])(B,a,i,!1,A,null,null);e["default"]=E.exports},"34a3":function(t,e,n){"use strict";var a=n("a013"),i=n("db4b"),s=n("b146"),o=n("c481"),r=n("b0f4"),c=n("35dd"),l=Math.max,d=Math.min,u=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};n("629c")("replace",2,function(t,e,n,p){return[function(a,i){var s=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,s,i):n.call(String(s),a,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var u=a(t),h=String(this),m="function"===typeof e;m||(e=String(e));var v=u.global;if(v){var _=u.unicode;u.lastIndex=0}var y=[];while(1){var S=c(u,h);if(null===S)break;if(y.push(S),!v)break;var I=String(S[0]);""===I&&(u.lastIndex=r(h,s(u.lastIndex),_))}for(var b="",$=0,L=0;L<y.length;L++){S=y[L];for(var w=String(S[0]),D=l(d(o(S.index),h.length),0),x=[],C=1;C<S.length;C++)x.push(f(S[C]));var k=S.groups;if(m){var W=[w].concat(x,D,h);void 0!==k&&W.push(k);var N=String(e.apply(void 0,W))}else N=g(w,h,D,x,k,e);D>=$&&(b+=h.slice($,D)+N,$=D+w.length)}return b+h.slice($)}];function g(t,e,a,s,o,r){var c=a+t.length,l=s.length,d=m;return void 0!==o&&(o=i(o),d=h),n.call(r,d,function(n,i){var r;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(c);case"<":r=o[i.slice(1,-1)];break;default:var d=+i;if(0===d)return n;if(d>l){var h=u(d/10);return 0===h?n:h<=l?void 0===s[h-1]?i.charAt(1):s[h-1]+i.charAt(1):n}r=s[d-1]}return void 0===r?"":r})}})},6353:function(t,e,n){t.exports={learningHeader:"header_learningHeader_32bZW",left:"header_left_1bFzS",iconIvu:"header_iconIvu_2m1NN",titleName:"header_titleName_Pgm7v",right:"header_right_2MCCH",step:"header_step_3AbAe",dropDown:"header_dropDown_1lLAK"}},"7fa0":function(t,e,n){t.exports={navBar:"navBar_navBar_1EN8j",navItem:"navBar_navItem_1Hl96",iconIvu:"navBar_iconIvu_3Hrsa"}},8836:function(t,e,n){t.exports={content:"content_content_pA5wq",main:"content_main_3wxTq",leftbox:"content_leftbox_3e1zY",header:"content_header_2WPqa",iconIvu:"content_iconIvu_LManT",md:"content_md_2t-NL",drag:"content_drag_18e_i",rightbox:"content_rightbox_1-H2y",footer:"content_footer_1_Wki",btn:"content_btn_3XVVL"}},"888a":function(t,e,n){"use strict";var a=n("6353"),i=n.n(a);e["default"]=i.a},a3db:function(t,e,n){"use strict";var a=n("0fe4"),i=n.n(a);e["default"]=i.a},a613:function(t,e,n){"use strict";var a=n("8836"),i=n.n(a);e["default"]=i.a},f3d1:function(t,e,n){"use strict";var a=n("7fa0"),i=n.n(a);e["default"]=i.a},f763:function(t,e,n){for(var a=n("dac5"),i=n("cfc7"),s=n("e5ef"),o=n("3754"),r=n("743d"),c=n("14fc"),l=n("8b37"),d=l("iterator"),u=l("toStringTag"),h=c.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=i(m),p=0;p<f.length;p++){var g,v=f[p],_=m[v],y=o[v],S=y&&y.prototype;if(S&&(S[d]||r(S,d,h),S[u]||r(S,u,v),c[v]=h,_))for(g in a)S[g]||s(S,g,a[g],!0)}}}]);